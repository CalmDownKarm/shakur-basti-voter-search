<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Voter Search Shakur Basti</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  {% set base = '.' %}
  {% include template-navbar.html %}
  <!-- TODO: Filter bars -->
  <div class="container-fluid py-4">
    <div class="form mb-1 justify-content-center w-100">
      <label for="name">Name</label>
      <input type="text" class="form-control urlfilter mb-3" name="Name~" placeholder="Search From Name"
        data-target="pushState">
      <label for="relative-name" class="ml-1">Relative's Name</label>
      <input type="text" class="form-control urlfilter mb-3" name="Relative Name~"
        placeholder="Search From Relative Name" data-target="pushState">
      <button type="submit" class="btn btn-primary btn-lg">Search</button>
    </div>
    <div class="text-middle mx-auto">
      <p class="h5">If you can't find your name, please contact your Aero by clicking <a href="contact">here.</a></p>
      <p class="h5">Corrections and additions can only be made till December 15 2019.</p>
      <p class="h5">If you have questions, check the <a href="faq">FAQ</a></p>
    </div>
    <div class="formhandler w-100"></div>

  </div><!-- .container-fluid -->


  <script src="ui/jquery/dist/jquery.min.js"></script>
  <script src="ui/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="ui/lodash/lodash.min.js"></script>
  <script src="ui/g1/dist/g1.min.js"></script>
  <script>
    $(function () {
      $('body').urlfilter({ target: 'pushState' })
      $('.btn').on('click', function () {
        let url = g1.url.parse(location.href)
        console.log(url)
        console.log(g1.url.parse('data').update(url.searchKey).toString())
        if (url.searchKey['Name~'] || url.searchKey['Relative Name~']) {
          $('.formhandler').formhandler({
            src: g1.url.parse('data').update(url.searchKey).toString(),
            pageSize: 5,
            export: false,
            size: false,
            sort: false,
            filters: false,
            link: false,
            editable: false
          })
        }
        // $('#tableModal').modal()
      })

    })
  </script>
  <!-- Commonly used libraries:
  <script src="ui/d3v5/dist/d3.min.js"></script>
  <script src="ui/morphdom/dist/morphdom-umd.min.js"></script>
  <script src="ui/moment/min/moment-with-locales.min.js"></script>
  <script src="ui/daterangepicker/daterangepicker.js"></script>
  <script src="ui/leaflet/dist/leaflet.js"></script>
  <script src="ui/topojson/dist/topojson.min.js"></script>
  -->
</body>

</html>